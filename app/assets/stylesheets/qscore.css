/* QScore uses shared variables from variables.css; aliases for backwards compatibility */
:root {
  --qscore-spacing-sm: var(--quepid-spacing-sm);
  --qscore-spacing-md: var(--quepid-spacing-md);
  --qscore-spacing-lg: var(--quepid-spacing-lg);
  --qscore-spacing-xl: var(--quepid-spacing-xl);
  --qscore-border-radius: var(--quepid-border-radius-md);
  --qscore-border-width: var(--quepid-border-width);
  --qscore-border-width-thick: var(--quepid-border-width-thick);
  --qscore-highlight-width: var(--quepid-highlight-width);
}

/* Base qscore component styles — ViewComponent class-based selectors */
.qscore-case, .qscore-query {
  padding: 0;
}

.qscore-case.case-score {
  margin: var(--qscore-spacing-xl) var(--qscore-spacing-lg) calc(-1 * var(--qscore-spacing-md)) 0px;
}

/* Simplified diff score margins */
/* Assumption: parent contains only divs (ViewComponents render divs as direct children).
   We use :only-child and :last-child instead of :only-of-type/:last-of-type; they are
   equivalent when siblings are all the same element type. */
.qscore-case.case-score:not(.diff-score):not(:only-child),
.qscore-case.case-score.diff-score {
  margin: var(--qscore-spacing-xl) 0px calc(-1 * var(--qscore-spacing-md)) 0px;
}

.qscore-case.case-score.diff-score:last-child {
  margin: var(--qscore-spacing-xl) var(--qscore-spacing-lg) calc(-1 * var(--qscore-spacing-md)) 0px;
}

/* Header rating styles */
.qscore-case .header-rating {
  border-radius: var(--qscore-border-radius);
  color: var(--quepid-color-white);
  display: inline-block;
  font-size: var(--quepid-font-size-lg-2);
  margin: 0;
  min-height: 80px;
  padding: var(--qscore-spacing-lg) 0;
  text-align: center;
  vertical-align: top;
}

/* Overall rating styles */
.qscore-case .overall-rating,
.qscore-query .overall-rating {
  display: block;
  float: left;
  height: 100%;
  width: 90px;
  margin: calc(-1 * var(--qscore-spacing-md)) var(--qscore-spacing-xl) calc(-1 * var(--qscore-spacing-md)) calc(-1 * var(--qscore-spacing-xl));
  padding: var(--qscore-spacing-md) 0;
  color: var(--quepid-color-white);
  font-family: 'allerbold_italic';
  font-size: var(--quepid-font-size-lg-2);
  text-align: center;
  border-top-left-radius: var(--qscore-border-radius);
  border-bottom-left-radius: var(--qscore-border-radius);
}

/* Query score specific positioning */
.qscore-query.results-score .overall-rating,
.diff-query-display .qscore-query.results-score .overall-rating {
  margin: calc(-1 * var(--qscore-spacing-md)) var(--qscore-spacing-lg) calc(-1 * var(--qscore-spacing-md)) calc(-1 * var(--qscore-spacing-xl));
}

.qscore-query.diff-score .overall-rating {
  margin: calc(-1 * var(--qscore-spacing-md)) var(--qscore-spacing-xl) calc(-1 * var(--qscore-spacing-md)) 0px;
}

/* Diff score styling */
.qscore-case .overall-rating.diff-score,
.qscore-query.diff-score .overall-rating {
  border-radius: 0;
  border-top-right-radius: var(--qscore-border-radius);
  border-bottom-right-radius: var(--qscore-border-radius);
}

/* Border radius adjustments for multiple scores */
.qscore-case.case-score:not(.diff-score):not(:only-child) .header-rating {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}

.qscore-case.case-score.diff-score .header-rating {
  border-radius: 0;
}

.qscore-case.case-score.diff-score:last-child .header-rating {
  border-top-right-radius: var(--qscore-border-radius);
  border-bottom-right-radius: var(--qscore-border-radius);
}

/* Graph styling — ViewComponent class-based selectors */
.qscore-case .qgraph-wrapper {
  display: inline-block;
  height: 80px;
  margin: 0px calc(-1 * var(--qscore-spacing-md)) 0px 0px;
  width: 150px;
}

.qscore-case .qgraph-wrapper svg {
  border: var(--qscore-border-width-thick) solid var(--quepid-color-qgraph-axis);
  border-right-style: none;
  border-top-left-radius: var(--qscore-border-radius);
  border-bottom-left-radius: var(--qscore-border-radius);
}

/* Diff container styles */
.diff-container {
  padding: 0;
  width: 100%;
}

.diff-header {
  display: flex;
  margin-bottom: var(--qscore-spacing-xl);
  border-bottom: var(--qscore-border-width-thick) solid var(--quepid-color-border-light);
}

.diff-header .diff-column {
  padding: 0;
}

.diff-row {
  display: flex;
  min-height: 200px;
  border-bottom: var(--qscore-border-width) solid var(--quepid-color-border-lighter);
  margin-bottom: var(--qscore-spacing-xl);
}

.diff-column {
  flex: 1;
  border-right: var(--qscore-border-width) solid var(--quepid-color-border-light);
  padding: 0 var(--qscore-spacing-lg);
  text-align: left;
}

.diff-column:last-child {
  border-right: none;
}

/* Diff score styling */
.diff-score-display {
  display: inline-block;
  margin: var(--qscore-spacing-md) 0;
}

.diff-score-display .overall-rating {
  margin: 0;
  border-radius: var(--qscore-border-radius);
}

.diff-score-display.snapshot-score .overall-rating {
  border-top-left-radius: var(--qscore-border-radius);
  border-bottom-left-radius: var(--qscore-border-radius);
}

.score-details {
  margin-top: var(--qscore-spacing-sm);
}

.diff-actions {
  text-align: center;
  padding-top: var(--qscore-spacing-xl);
  border-top: var(--qscore-border-width) solid var(--quepid-color-border-light);
}

/* Search result highlighting */
.search-result.different {
  border-left: var(--qscore-highlight-width) solid var(--quepid-color-warning);
}

.search-result.missing {
  border-left: var(--qscore-highlight-width) solid var(--quepid-color-danger);
}

.search-result.new {
  border-left: var(--qscore-highlight-width) solid var(--quepid-color-success);
}

/* Responsive design */
@media (max-width: var(--quepid-breakpoint-md-max)) {
  .diff-header,
  .diff-row {
    flex-direction: column;
  }

  .diff-column {
    border-right: none;
    border-bottom: var(--qscore-border-width) solid var(--quepid-color-border-light);
    margin-bottom: var(--qscore-spacing-lg);
    padding: var(--qscore-spacing-lg) 0;
  }

  .diff-column:last-child {
    border-bottom: none;
  }
}