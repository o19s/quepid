<div class="modal-header">
  <button type="button" class="close" ng-click="ctrl.cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  <h3 class="modal-title">Explain Query Parsing</h3>
</div>

<div class="modal-body">
  <p>These are details returned from the search engine on how it processed the input query</p>

  <uib-tabset active="active">
    <uib-tab index="0" heading="Params" select="ctrl.copyText = ctrl.queryDetails">
      <p class='bg-warning text-warning padded-text' ng-show="ctrl.queryDetailsMessage">
        <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
        {{ctrl.queryDetailsMessage}}
      </p>
      <span ng-show="!ctrl.queryDetailsMessage">
        <p>These are the query parameters processed by the search engine.</p>
        <json-explorer
          json-data="ctrl.queryDetails"
          collapsed="false">
        </json-explorer>
      </span>
    </uib-tab>
    <uib-tab index="1" heading="Parsing" disable="false" select="ctrl.copyText = ctrl.parsedQueryDetails">
      <p>This is how the search engine parsed the query.</p>
      <json-explorer
        json-data="ctrl.parsedQueryDetails"
        collapsed="false">
      </json-explorer>
    </uib-tab>
    <uib-tab index="2" heading="Performance" disable="false" select="ctrl.copyText = ctrl.timingDetails">
      <p>Performance data from the search engine.</p>
      <json-explorer
        json-data="ctrl.timingDetails"
        collapsed="false">
      </json-explorer>
    </uib-tab>
  </uib-tabset>
</div>

<div class="modal-footer">
  <button class="btn btn-default float-left" ng-show="ctrl.copyText !== null" ng-click="ctrl.cancel()" ngclipboard data-clipboard-text="{{ctrl.copyText}}"><i class="glyphicon glyphicon-copy"></i> Copy</button>
  <button class="btn btn-default btn-primary" ng-click="ctrl.cancel()">Close</button>
</div>
