<tr>
  <!--<%= "Rendering row for book #{book.id} updated at #{book.updated_at}  at #{Time.now}" %>-->
  <td><%= book.id %> </td>
  <td><%= link_to strip_book_title(book), book_path(book) %></td>
  <td><%= book.teams.pluck(:name).join(',') %></td>
  <td>Scale: <%= book.scale.join(',') if book.scale.present? %> </td>
  <td>
    <span class="badge bg-primary rounded-pill"><%= book.query_doc_pairs_count %> query/doc pairs</span>
    <% if book.archived? %>
      <span class="badge bg-warning">Archived</span>
    <% end %>
    <span id="notification-book-<%= book.id %>">
    </span>
  </td>
  <td class="text-end">
    <%= button_tag type: 'button',
                   class: 'btn btn-link p-0',
                   title: 'Share',
                   'aria-label': 'Share',
                   data: {
                     controller: 'share-book',
                     action: 'click->share-book#open',
                     bs_toggle: 'modal',
                     bs_target: '#shareBookModal',
                     share_book_id_value: book.id,
                     share_book_name_value: book.name,
                     share_book_all_teams_json: current_user.teams.select(:id, :name).order(:name).to_json,
                     share_book_shared_teams_json: book.teams.select(:id, :name).to_json
                   } do %>
      <i class="bi bi-share" aria-hidden="true"></i>
    <% end %>
  </td>
</tr>
