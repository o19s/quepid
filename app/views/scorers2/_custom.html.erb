<div class="card">
  <div class="card-body">
    <h5 class="card-title">Custom Scorers</h5>

    <div class="mb-3">
      <%= form_with url: scorers2_path, method: :get, local: true, data: { turbo_frame: 'scorers_custom' }, html: { class: 'row g-2 align-items-center' } do %>
        <div class="col-auto" style="flex:1">
          <div class="input-group">
            <%= text_field_tag :q, params[:q], class: 'form-control form-control-sm', placeholder: 'Filter custom scorers by name' %>
            <button class="btn btn-sm btn-outline-secondary" type="submit" title="Search">
              <i class="bi bi-search" aria-hidden="true"></i>
              <span class="visually-hidden">Search</span>
            </button>
          </div>
        </div>
      <% end %>
    </div>

    <div class="table-responsive">
      <table class="table table-sm table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Scale / Code</th>
            <th>Owner</th>
            <th class="text-end"></th>
          </tr>
        </thead>
        <tbody>
          <% (@custom_scorers || []).each do |scorer| %>
            <tr>
              <td><%= scorer.id %></td>
              <td><%= scorer.name %></td>
              <td><div style="max-height:80px; overflow:auto; white-space:pre-wrap; font-family:monospace; font-size:0.9rem"><%= truncate(scorer.code || scorer.scale.to_s, length: 300) %></div></td>
              <td><%= scorer.owner&.fullname || 'â€”' %></td>
              <td class="text-end">
                <div class="btn-group btn-group-sm" role="group">
                  <a class="btn btn-link p-0 me-2" href="#" title="Edit" aria-label="Edit" disabled>
                    <i class="bi bi-pencil" aria-hidden="true"></i>
                  </a>
                  <a class="btn btn-link text-danger p-0" href="#" title="Delete" aria-label="Delete" disabled>
                    <i class="bi bi-x-circle" aria-hidden="true"></i>
                  </a>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <% if defined?(pagy_nav) && @pagy_custom %>
      <div class="mt-2">
        <%= pagy_nav(@pagy_custom, link_extra: 'data-turbo-frame="scorers_custom"') %>
      </div>
    <% end %>

  </div>
</div>
