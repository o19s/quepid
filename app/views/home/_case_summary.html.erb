<div class="col-12 col-md-6 mb-4 mb-lg-0 col-lg-3">
  <div class="card h-100">
    <h5 class="card-header text-truncate">
      <%= link_to case_title(kase), case_core_path(kase, kase.last_try_number) %>
    </h5>
    
    <div class="card-body">
      <h5 class="card-title"><%= number_with_precision(kase.last_score.score, precision: 2) unless kase.scores.empty? %> <%= kase.scorer.name %></h5>
      <p class="card-text"><%= kase.created_at.to_date.to_fs(:short) %> - <%= kase.last_score.updated_at.to_date.to_fs(:short) unless kase.scores.empty?%>
      </p>
      <turbo-frame id="case_prophet_frame_<%= kase.id %>" src="<%= home_case_prophet_path(kase) %>">
        <p class="card-text placeholder-glow">
          <span class="placeholder col-11"></span>
        </p>
        <%= Vega.lite
          .mark(type: "line", tooltip: true, interpolate: "cardinal", point: {size: 60})
          .encoding(
            x: {field: "x", type: "temporal", scale: {type: "utc"}, axis: {format: "%b %e"}},
            y: {field: "y", type: "quantitative"}
          )
          .height(70)
          .config(axis: {title: nil, labelFontSize: 12}) %>        
      </turbo-frame>
                  
    </div>
  </div>
</div>
