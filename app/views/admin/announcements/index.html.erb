<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h1 class="h2">Quepid Announcements to Users</h1>
  <div class="btn-toolbar mb-2 mb-md-0">
    <div class="btn-group me-2">
      <%= link_to 'New Quepid Announcement', new_admin_announcement_path, class: "btn btn-sm btn-outline-secondary" %>
    </div>
  </div>
</div>


<table class="table table-striped table-hover">

  <thead>
  <tr>
    <th>Text</th>
    <th>Author</th>
    <th>Created</th>
    <th>Views</th>
    <th>Actions</th>
  </tr>
  </thead>

  <tbody>
  <% @announcements.each do |announcement| %>
    <tr>
      <td><%= announcement.text.html_safe %></td>
      <td><%= announcement.author.name %> </td>
      <td><%= announcement.created_at.strftime("%B %d %Y, %l:%M%P") %> </td>
      <td><%= announcement.announcement_viewed.size %> </td>
      <td>
        <%= link_to 'Edit', edit_admin_announcement_path(announcement) %>
        <%= button_to 'Delete', admin_announcement_path(announcement), method: :delete, class: 'btn btn-sm btn-danger'%>

        <%= button_to (announcement.live? ? 'Hide' : 'Make Live'), publish_admin_announcement_path(announcement), method: :post, class: 'btn btn-sm btn-danger' %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>
