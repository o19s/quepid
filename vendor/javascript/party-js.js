// party-js@2.2.0 downloaded from https://ga.jspm.io/npm:party-js@2.2.0/lib/index.js

var e={},t=false;function dew$x(){if(t)return e;t=true;Object.defineProperty(e,"__esModule",{value:true});e.settings=void 0;e.settings={debug:false,gravity:800,zIndex:99999,respectReducedMotion:true};return e}var r={},i=false;function dew$w(){if(i)return r;i=true;Object.defineProperty(r,"__esModule",{value:true});r.overrideDefaults=void 0;function overrideDefaults(e,t){return Object.assign({},e,t)}r.overrideDefaults=overrideDefaults;return r}var n={},o=false;function dew$v(){if(o)return n;o=true;Object.defineProperty(n,"__esModule",{value:true});n.Circle=void 0;var e=function(){function Circle(e,t,r){void 0===r&&(r=0);this.x=e;this.y=t;this.radius=r}Circle.zero=new Circle(0,0);return Circle}();n.Circle=e;return n}var a={},u=false;function dew$u(){if(u)return a;u=true;Object.defineProperty(a,"__esModule",{value:true});a.approximately=a.clamp=a.invlerp=a.slerp=a.lerp=a.epsilon=a.rad2deg=a.deg2rad=void 0;a.deg2rad=Math.PI/180;a.rad2deg=180/Math.PI;a.epsilon=1e-6;function lerp(e,t,r){return(1-r)*e+r*t}a.lerp=lerp;function slerp(e,t,r){return lerp(e,t,(1-Math.cos(r*Math.PI))/2)}a.slerp=slerp;function invlerp(e,t,r){return(r-e)/(t-e)}a.invlerp=invlerp;function clamp(e,t,r){return Math.min(r,Math.max(t,e))}a.clamp=clamp;function approximately(e,t){return Math.abs(e-t)<a.epsilon}a.approximately=approximately;return a}var s={},l=false;function dew$t(){if(l)return s;l=true;Object.defineProperty(s,"__esModule",{value:true});s.Color=void 0;var e=dew$u();var t=function(){function Color(e,t,r){this.values=new Float32Array(3);this.rgb=[e,t,r]}Object.defineProperty(Color.prototype,"r",{get:function(){return this.values[0]},set:function(e){this.values[0]=Math.floor(e)},enumerable:false,configurable:true});Object.defineProperty(Color.prototype,"g",{get:function(){return this.values[1]},set:function(e){this.values[1]=Math.floor(e)},enumerable:false,configurable:true});Object.defineProperty(Color.prototype,"b",{get:function(){return this.values[2]},set:function(e){this.values[2]=Math.floor(e)},enumerable:false,configurable:true});Object.defineProperty(Color.prototype,"rgb",{get:function(){return[this.r,this.g,this.b]},set:function(e){this.r=e[0];this.g=e[1];this.b=e[2]},enumerable:false,configurable:true});Color.prototype.mix=function(t,r){void 0===r&&(r=.5);return new Color(e.lerp(this.r,t.r,r),e.lerp(this.g,t.g,r),e.lerp(this.b,t.b,r))};Color.prototype.toHex=function(){var hex=function(e){return e.toString(16).padStart(2,"0")};return"#"+hex(this.r)+hex(this.g)+hex(this.b)};Color.prototype.toString=function(){return"rgb("+this.values.join(", ")+")"};Color.fromHex=function(e){e.startsWith("#")&&(e=e.substr(1));return new Color(parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16))};Color.fromHsl=function(e,t,r){e/=360;t/=100;r/=100;if(0===t)return new Color(r,r,r);var hue2rgb=function(e,t,r){r<0&&(r+=1);r>1&&(r-=1);return r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e};var to255=function(e){return Math.min(255,256*e)};var i=r<.5?r*(1+t):r+t-r*t;var n=2*r-i;return new Color(to255(hue2rgb(n,i,e+1/3)),to255(hue2rgb(n,i,e)),to255(hue2rgb(n,i,e-1/3)))};Color.white=new Color(255,255,255);Color.black=new Color(0,0,0);return Color}();s.Color=t;return s}var c={},d=false;function dew$s(){if(d)return c;d=true;Object.defineProperty(c,"__esModule",{value:true});c.Spline=void 0;var e=dew$u();var t=function(){function Spline(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Splines require at least one key.");if(Array.isArray(e[0]))throw new Error("You are trying to pass an array to the spline constructor, which is not supported. Try to spread the array into the constructor instead.");this.keys=e}Spline.prototype.evaluate=function(t){if(0===this.keys.length)throw new Error("Attempt to evaluate a spline with no keys.");if(1===this.keys.length)return this.keys[0].value;var r=this.keys.sort((function(e,t){return e.time-t.time}));var i=r.findIndex((function(e){return e.time>t}));if(0===i)return r[0].value;if(-1===i)return r[r.length-1].value;var n=r[i-1];var o=r[i];var a=e.invlerp(n.time,o.time,t);return this.interpolate(n.value,o.value,a)};return Spline}();c.Spline=t;return c}var f={},p=false;function dew$r(){if(p)return f;p=true;var e=f&&f.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};return extendStatics(e,t)};return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();var t=f&&f.__spreadArray||function(e,t){for(var r=0,i=t.length,n=e.length;r<i;r++,n++)e[n]=t[r];return e};Object.defineProperty(f,"__esModule",{value:true});f.Gradient=void 0;var r=dew$s();var i=function(r){e(Gradient,r);function Gradient(){return null!==r&&r.apply(this,arguments)||this}Gradient.prototype.interpolate=function(e,t,r){return e.mix(t,r)};Gradient.solid=function(e){return new Gradient({value:e,time:.5})};Gradient.simple=function(){var e=[];for(var r=0;r<arguments.length;r++)e[r]=arguments[r];var i=1/(e.length-1);return new(Gradient.bind.apply(Gradient,t([void 0],e.map((function(e,t){return{value:e,time:t*i}})))))};return Gradient}(r.Spline);f.Gradient=i;return f}var v={},h=false;function dew$q(){if(h)return v;h=true;var e=v&&v.__extends||function(){var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])};return extendStatics(e,t)};return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();Object.defineProperty(v,"__esModule",{value:true});v.NumericSpline=void 0;var t=dew$u();var r=dew$s();var i=function(r){e(NumericSpline,r);function NumericSpline(){return null!==r&&r.apply(this,arguments)||this}NumericSpline.prototype.interpolate=function(e,r,i){return t.slerp(e,r,i)};return NumericSpline}(r.Spline);v.NumericSpline=i;return v}var m={},y=false;function dew$p(){if(y)return m;y=true;Object.defineProperty(m,"__esModule",{value:true});m.Rect=void 0;var e=function(){function Rect(e,t,r,i){void 0===r&&(r=0);void 0===i&&(i=0);this.x=e;this.y=t;this.width=r;this.height=i}Rect.fromScreen=function(){return new Rect(window.scrollX,window.scrollY,window.innerWidth,window.innerHeight)};Rect.fromElement=function(e){var t=e.getBoundingClientRect();return new Rect(window.scrollX+t.x,window.scrollY+t.y,t.width,t.height)};Rect.zero=new Rect(0,0);return Rect}();m.Rect=e;return m}var w={},g=false;function dew$o(){if(g)return w;g=true;var e=w&&w.__spreadArray||function(e,t){for(var r=0,i=t.length,n=e.length;r<i;r++,n++)e[n]=t[r];return e};Object.defineProperty(w,"__esModule",{value:true});w.Vector=void 0;var t=dew$u();var r=function(){function Vector(e,t,r){void 0===e&&(e=0);void 0===t&&(t=0);void 0===r&&(r=0);this.values=new Float32Array(3);this.xyz=[e,t,r]}Object.defineProperty(Vector.prototype,"x",{get:function(){return this.values[0]},set:function(e){this.values[0]=e},enumerable:false,configurable:true});Object.defineProperty(Vector.prototype,"y",{get:function(){return this.values[1]},set:function(e){this.values[1]=e},enumerable:false,configurable:true});Object.defineProperty(Vector.prototype,"z",{get:function(){return this.values[2]},set:function(e){this.values[2]=e},enumerable:false,configurable:true});Object.defineProperty(Vector.prototype,"xyz",{get:function(){return[this.x,this.y,this.z]},set:function(e){this.values[0]=e[0];this.values[1]=e[1];this.values[2]=e[2]},enumerable:false,configurable:true});Vector.prototype.magnitude=function(){return Math.sqrt(this.sqrMagnitude())};Vector.prototype.sqrMagnitude=function(){return this.x*this.x+this.y*this.y+this.z*this.z};Vector.prototype.add=function(e){return new Vector(this.x+e.x,this.y+e.y,this.z+e.z)};Vector.prototype.subtract=function(e){return new Vector(this.x-e.x,this.y-e.y,this.z-e.z)};Vector.prototype.scale=function(e){return"number"===typeof e?new Vector(this.x*e,this.y*e,this.z*e):new Vector(this.x*e.x,this.y*e.y,this.z*e.z)};Vector.prototype.normalized=function(){var t=this.magnitude();return 0!==t?this.scale(1/t):new(Vector.bind.apply(Vector,e([void 0],this.xyz)))};Vector.prototype.angle=function(e){return t.rad2deg*Math.acos((this.x*e.x+this.y*e.y+this.z*e.z)/(this.magnitude()*e.magnitude()))};Vector.prototype.cross=function(e){return new Vector(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)};Vector.prototype.dot=function(e){return this.magnitude()*e.magnitude()*Math.cos(t.deg2rad*this.angle(e))};Vector.prototype.toString=function(){return"Vector("+this.values.join(", ")+")"};Vector.from2dAngle=function(e){return new Vector(Math.cos(e*t.deg2rad),Math.sin(e*t.deg2rad))};Vector.zero=new Vector(0,0,0);Vector.one=new Vector(1,1,1);Vector.right=new Vector(1,0,0);Vector.up=new Vector(0,1,0);Vector.forward=new Vector(0,0,1);return Vector}();w.Vector=r;return w}var b={},_=false;function dew$n(){if(_)return b;_=true;var e=b&&b.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);Object.defineProperty(e,i,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r);e[i]=t[r]});var t=b&&b.__exportStar||function(t,r){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(r,i)||e(r,t,i)};Object.defineProperty(b,"__esModule",{value:true});t(dew$v(),b);t(dew$t(),b);t(dew$r(),b);t(dew$q(),b);t(dew$p(),b);t(dew$o(),b);return b}var $={},O=false;function dew$m(){if(O)return $;O=true;Object.defineProperty($,"__esModule",{value:true});$.rotationToNormal=void 0;var e=dew$n();var t=dew$u();
/**
   * Converts the specified euler rotation (in degrees) into the corresponding normal vector.
   *
   * @remarks
   * The normal is calculated by placing a (figurative) plane in a coordinate-system's
   * origin, and rotating it by the specified angles. Note that the z-component of the
   * rotation is irrelevant for the normal and can be ignored. Then, two vectors
   * describing the orientation of the plane are calculated. Their cross product
   * denotes the normal vector.
   *
   * @param rotation The euler rotation angles (in degrees) to calculate the normal for.
   */function rotationToNormal(r){var i=r.x*t.deg2rad;var n=r.y*t.deg2rad;var o=new e.Vector(Math.cos(n),0,Math.sin(n));var a=new e.Vector(0,Math.cos(i),Math.sin(i));return o.cross(a)}$.rotationToNormal=rotationToNormal;return $}var S={},M=false;function dew$l(){if(M)return S;M=true;Object.defineProperty(S,"__esModule",{value:true});S.despawningRules=void 0;S.despawningRules={lifetime:function(e){return e.lifetime<=0},bounds:function(e){var t=document.documentElement.scrollHeight;return e.location.y>t}};return S}var P={},x=false;function dew$k(){if(x)return P;x=true;Object.defineProperty(P,"__esModule",{value:true});P.Lazy=void 0;var e=function(){function Lazy(e,t){void 0===t&&(t=Lazy.defaultExists);this.factory=e;this.exists=t}Object.defineProperty(Lazy.prototype,"current",{get:function(){this.exists(this.value)||(this.value=this.factory());return this.value},enumerable:false,configurable:true});Lazy.defaultExists=function(e){return"undefined"!==typeof e};return Lazy}();P.Lazy=e;return P}var j={},C=false;function dew$j(){if(C)return j;C=true;var e=j&&j.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);Object.defineProperty(e,i,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r);e[i]=t[r]});var t=j&&j.__exportStar||function(t,r){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(r,i)||e(r,t,i)};Object.defineProperty(j,"__esModule",{value:true});t(dew$w(),j);t(dew$m(),j);t(dew$l(),j);t(dew$k(),j);return j}var R={},V=false;function dew$i(){if(V)return R;V=true;Object.defineProperty(R,"__esModule",{value:true});R.particleContainer=R.debugContainer=R.rootContainer=void 0;var e=dew$x();var t=dew$j();var r="party-js-";function isContainerActive(e){return e&&e.isConnected}function makeContainer(e,t,i){var n=document.createElement("div");n.id=r+e;Object.assign(n.style,t);return i.appendChild(n)}R.rootContainer=new t.Lazy((function(){return makeContainer("container",{position:"fixed",left:"0",top:"0",height:"100vh",width:"100vw",pointerEvents:"none",userSelect:"none",zIndex:e.settings.zIndex.toString()},document.body)}),isContainerActive);R.debugContainer=new t.Lazy((function(){return makeContainer("debug",{position:"absolute",top:"0",left:"0",margin:"0.5em",padding:"0.5em 1em",border:"2px solid rgb(0, 0, 0, 0.2)",background:"rgb(0, 0, 0, 0.1)",color:"#555",fontFamily:"monospace"},R.rootContainer.current)}),isContainerActive);R.particleContainer=new t.Lazy((function(){return makeContainer("particles",{width:"100%",height:"100%",overflow:"hidden",perspective:"1200px"},R.rootContainer.current)}),isContainerActive);return R}var k={},z=false;function dew$h(){if(z)return k;z=true;var e=k&&k.__spreadArray||function(e,t){for(var r=0,i=t.length,n=e.length;r<i;r++,n++)e[n]=t[r];return e};Object.defineProperty(k,"__esModule",{value:true});k.Debug=void 0;var t=dew$i();var r=dew$x();var i=function(){
/**
     * Registers a new debug utility that is attached to the given scene.
     *
     * @param scene The scene to attach to.
     */
function Debug(e){this.scene=e;this.refreshRate=8;this.refreshTimer=1/this.refreshRate}
/**
     * Processes a tick event in the interface. This checks if enough has passed to
     * trigger a refresh, and if so, fetches the debug information and updates the DOM.
     *
     * @param delta The time that has elapsed since the last tick.
     */Debug.prototype.tick=function(e){var i=t.debugContainer.current;var n=r.settings.debug?"block":"none";i.style.display!==n&&(i.style.display=n);if(r.settings.debug){this.refreshTimer+=e;if(this.refreshTimer>1/this.refreshRate){this.refreshTimer=0;i.innerHTML=this.getDebugInformation(e).join("<br>")}}};
/**
     * Fetches the debug information from the specified delta and the linked scene.
     *
     * @returns An array of debugging information, formatted as HTML.
     */Debug.prototype.getDebugInformation=function(t){var r=this.scene.emitters.length;var i=this.scene.emitters.reduce((function(e,t){return e+t.particles.length}),0);var n=["<b>party.js Debug</b>","--------------","FPS: "+Math.round(1/t),"Emitters: "+r,"Particles: "+i];var o=this.scene.emitters.map((function(e){return["⭯: "+(e.currentLoop+1)+"/"+(e.options.loops>=0?e.options.loops:"∞"),"Σp: "+e.particles.length,e.isExpired?"<i>expired</i>":"Σt: "+e.durationTimer.toFixed(3)+"s"].join(", ")}));n.push.apply(n,e(["--------------"],o));return n};return Debug}();k.Debug=i;return k}var E={},D=false;function dew$g(){if(D)return E;D=true;Object.defineProperty(E,"__esModule",{value:true});E.randomInsideCircle=E.randomInsideRect=E.randomUnitVector=E.pick=E.randomRange=void 0;var e=dew$n();var t=dew$u();function randomRange(e,r){void 0===e&&(e=0);void 0===r&&(r=1);return t.lerp(e,r,Math.random())}E.randomRange=randomRange;function pick(e){return 0===e.length?void 0:e[Math.floor(Math.random()*e.length)]}E.pick=pick;function randomUnitVector(){var t=randomRange(0,2*Math.PI);var r=randomRange(-1,1);return new e.Vector(Math.sqrt(1-r*r)*Math.cos(t),Math.sqrt(1-r*r)*Math.sin(t),r)}E.randomUnitVector=randomUnitVector;function randomInsideRect(t){return new e.Vector(t.x+randomRange(0,t.width),t.y+randomRange(0,t.height))}E.randomInsideRect=randomInsideRect;function randomInsideCircle(t){var r=randomRange(0,2*Math.PI);var i=randomRange(0,t.radius);return new e.Vector(t.x+Math.cos(r)*i,t.y+Math.sin(r)*i)}E.randomInsideCircle=randomInsideCircle;return E}var T={},I=false;function dew$f(){if(I)return T;I=true;Object.defineProperty(T,"__esModule",{value:true});T.gradientSample=T.splineSample=T.skewRelative=T.skew=T.range=T.evaluateVariation=void 0;var e=dew$g();function evaluateVariation(t){return Array.isArray(t)?e.pick(t):"function"===typeof t?t():t}T.evaluateVariation=evaluateVariation;function range(t,r){return function(){return e.randomRange(t,r)}}T.range=range;function skew(t,r){return function(){return t+e.randomRange(-r,r)}}T.skew=skew;function skewRelative(t,r){return function(){return t*(1+e.randomRange(-r,r))}}T.skewRelative=skewRelative;
/**
   * Creates a variation function that returns a random sample from the given spline.
   *
   * @param spline The spline to sample from.
   */function splineSample(e){return function(){return e.evaluate(Math.random())}}T.splineSample=splineSample;
/**
   * Creates a variation function that returns a random sample from the given gradient.
   *
   * @remarks
   * This function is an alias for the spline variation, since a gradient is just
   * a spline under the hood.
   *
   * @param gradient The gradient to sample from.
   */function gradientSample(e){return splineSample(e)}T.gradientSample=gradientSample;return T}var L={},A=false;function dew$e(){if(A)return L;A=true;Object.defineProperty(L,"__esModule",{value:true});L.getDefaultEmitterOptions=void 0;var e=dew$l();function getDefaultEmitterOptions(){return{duration:5,loops:1,useGravity:true,maxParticles:300,despawningRules:[e.despawningRules.lifetime,e.despawningRules.bounds],modules:[]}}L.getDefaultEmitterOptions=getDefaultEmitterOptions;return L}var B={},F=false;function dew$d(){if(F)return B;F=true;Object.defineProperty(B,"__esModule",{value:true});B.circleSource=B.rectSource=B.mouseSource=B.elementSource=B.dynamicSource=void 0;var e=dew$n();var t=dew$g();function dynamicSource(t){if(t instanceof HTMLElement)return elementSource(t);if(t instanceof e.Circle)return circleSource(t);if(t instanceof e.Rect)return rectSource(t);if(t instanceof MouseEvent)return mouseSource(t);throw new Error("Cannot infer the source type of '"+t+"'.")}B.dynamicSource=dynamicSource;function elementSource(r){return function(){return t.randomInsideRect(e.Rect.fromElement(r))}}B.elementSource=elementSource;function mouseSource(t){return function(){return new e.Vector(window.scrollX+t.clientX,window.scrollY+t.clientY)}}B.mouseSource=mouseSource;function rectSource(e){return function(){return t.randomInsideRect(e)}}B.rectSource=rectSource;function circleSource(e){return function(){return t.randomInsideCircle(e)}}B.circleSource=circleSource;return B}var N={},G=false;function dew$c(){if(G)return N;G=true;Object.defineProperty(N,"__esModule",{value:true});N.getDefaultEmissionOptions=void 0;var e=dew$n();var t=dew$d();function getDefaultEmissionOptions(){return{rate:10,angle:0,bursts:[],sourceSampler:t.rectSource(e.Rect.zero),initialLifetime:5,initialSpeed:5,initialSize:1,initialRotation:e.Vector.zero,initialColor:e.Color.white}}N.getDefaultEmissionOptions=getDefaultEmissionOptions;return N}var q={},H=false;function dew$b(){if(H)return q;H=true;Object.defineProperty(q,"__esModule",{value:true});q.getDefaultRendererOptions=void 0;function getDefaultRendererOptions(){return{shapeFactory:"square",applyColor:defaultApplyColor,applyOpacity:defaultApplyOpacity,applyLighting:defaultApplyLighting,applyTransform:defaultApplyTransform}}q.getDefaultRendererOptions=getDefaultRendererOptions;function defaultApplyColor(e,t){var r=e.toHex();switch(t.nodeName.toLowerCase()){case"div":t.style.background=r;break;case"svg":t.style.fill=t.style.color=r;break;default:t.style.color=r;break}}function defaultApplyOpacity(e,t){t.style.opacity=e.toString()}function defaultApplyLighting(e,t){t.style.filter="brightness("+(.5+Math.abs(e))+")"}function defaultApplyTransform(e,t){t.style.transform="translateX("+(e.location.x-window.scrollX).toFixed(3)+"px) translateY("+(e.location.y-window.scrollY).toFixed(3)+"px) translateZ("+e.location.z.toFixed(3)+"px) rotateX("+e.rotation.x.toFixed(3)+"deg) rotateY("+e.rotation.y.toFixed(3)+"deg) rotateZ("+e.rotation.z.toFixed(3)+"deg) scale("+e.size.toFixed(3)+")"}return q}var U={},Y=false;function dew$a(){if(Y)return U;Y=true;var e=U&&U.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);Object.defineProperty(e,i,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r);e[i]=t[r]});var t=U&&U.__exportStar||function(t,r){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(r,i)||e(r,t,i)};Object.defineProperty(U,"__esModule",{value:true});t(dew$e(),U);t(dew$c(),U);t(dew$b(),U);return U}var X={},K=false;function dew$9(){if(K)return X;K=true;Object.defineProperty(X,"__esModule",{value:true});X.Particle=void 0;var e=dew$n();var t=dew$w();var r=function(){function Particle(r){var i=t.overrideDefaults({lifetime:0,size:1,location:e.Vector.zero,rotation:e.Vector.zero,velocity:e.Vector.zero,color:e.Color.white,opacity:1},r);this.id=Symbol();this.size=this.initialSize=i.size;this.lifetime=this.initialLifetime=i.lifetime;this.rotation=this.initialRotation=i.rotation;this.location=i.location;this.velocity=i.velocity;this.color=i.color;this.opacity=i.opacity}return Particle}();X.Particle=r;return X}var W={},Z=false;function dew$8(){if(Z)return W;Z=true;Object.defineProperty(W,"__esModule",{value:true});W.Emitter=void 0;var e=dew$o();var t=dew$x();var r=dew$f();var i=dew$w();var n=dew$a();var o=dew$9();var a=function(){function Emitter(e){this.particles=[];this.currentLoop=0;this.durationTimer=0;this.emissionTimer=0;this.attemptedBurstIndices=[];this.options=i.overrideDefaults(n.getDefaultEmitterOptions(),null===e||void 0===e?void 0:e.emitterOptions);this.emission=i.overrideDefaults(n.getDefaultEmissionOptions(),null===e||void 0===e?void 0:e.emissionOptions);this.renderer=i.overrideDefaults(n.getDefaultRendererOptions(),null===e||void 0===e?void 0:e.rendererOptions)}Object.defineProperty(Emitter.prototype,"isExpired",{get:function(){return this.options.loops>=0&&this.currentLoop>=this.options.loops},enumerable:false,configurable:true});Object.defineProperty(Emitter.prototype,"canRemove",{get:function(){return 0===this.particles.length},enumerable:false,configurable:true});
/**
     * Clears all particles inside the emitter.
     *
     * @returns The number of cleared particles.
     */Emitter.prototype.clearParticles=function(){return this.particles.splice(0).length};
/**
     * Processes a tick of the emitter, using the elapsed time.
     *
     * @remarks
     * This handles a few things, namely:
     * - Incrementing the duration timer and potentially incrementing the loop.
     * - Handling particle bursts & emissions.
     * - Despawning particles conditionally.
     *
     * @param delta The time, in seconds, passed since the last tick.
     */Emitter.prototype.tick=function(e){if(!this.isExpired){this.durationTimer+=e;if(this.durationTimer>=this.options.duration){this.currentLoop++;this.durationTimer=0;this.attemptedBurstIndices=[]}if(!this.isExpired){var t=0;for(var i=0,n=this.emission.bursts;i<n.length;i++){var o=n[i];if(o.time<=this.durationTimer&&!this.attemptedBurstIndices.includes(t)){var a=r.evaluateVariation(o.count);for(var u=0;u<a;u++)this.emitParticle();this.attemptedBurstIndices.push(t)}t++}this.emissionTimer+=e;var s=1/this.emission.rate;while(this.emissionTimer>s){this.emissionTimer-=s;this.emitParticle()}}}var _loop_1=function(t){var r=l.particles[t];l.tickParticle(r,e);l.options.despawningRules.some((function(e){return e(r)}))&&l.particles.splice(t,1)};var l=this;for(u=this.particles.length-1;u>=0;u--)_loop_1(u)};
/**
     * Performs an internal tick for the particle.
     *
     * @remarks
     * This method controls the particle's lifetime, location and velocity, according
     * to the elapsed delta and the configuration. Additionally, each of the emitter's
     * modules is applied to the particle.
     *
     * @param particle The particle to apply the tick for.
     * @param delta The time, in seconds, passed since the last tick.
     */Emitter.prototype.tickParticle=function(r,i){r.lifetime-=i;this.options.useGravity&&(r.velocity=r.velocity.add(e.Vector.up.scale(t.settings.gravity*i)));r.location=r.location.add(r.velocity.scale(i));for(var n=0,o=this.options.modules;n<o.length;n++){var a=o[n];a(r)}};Emitter.prototype.emitParticle=function(){var t=new o.Particle({location:this.emission.sourceSampler(),lifetime:r.evaluateVariation(this.emission.initialLifetime),velocity:e.Vector.from2dAngle(r.evaluateVariation(this.emission.angle)).scale(r.evaluateVariation(this.emission.initialSpeed)),size:r.evaluateVariation(this.emission.initialSize),rotation:r.evaluateVariation(this.emission.initialRotation),color:r.evaluateVariation(this.emission.initialColor)});this.particles.push(t);this.particles.length>this.options.maxParticles&&this.particles.shift();return t};return Emitter}();W.Emitter=a;return W}var J={},Q=false;function dew$7(){if(Q)return J;Q=true;Object.defineProperty(J,"__esModule",{value:true});J.resolveShapeFactory=J.resolvableShapes=void 0;var e=dew$f();J.resolvableShapes={square:'<div style="height: 10px; width: 10px;"></div>',rectangle:'<div style="height: 6px; width: 10px;"></div>',circle:'<svg viewBox="0 0 2 2" width="10" height="10"><circle cx="1" cy="1" r="1" fill="currentColor"/></svg>',roundedSquare:'<div style="height: 10px; width: 10px; border-radius: 3px;"></div>',roundedRectangle:'<div style="height: 6px; width: 10px; border-radius: 3px;"></div>',star:'<svg viewBox="0 0 512 512" width="15" height="15"><polygon fill="currentColor" points="512,197.816 325.961,185.585 255.898,9.569 185.835,185.585 0,197.816 142.534,318.842 95.762,502.431 255.898,401.21 416.035,502.431 369.263,318.842"/></svg>'};function resolveShapeFactory(t){var r=e.evaluateVariation(t);if("string"===typeof r){var i=J.resolvableShapes[r];if(!i)throw new Error("Failed to resolve shape key '"+r+"'. Did you forget to add it to the 'resolvableShapes' lookup?");var n=document.createElement("div");n.innerHTML=i;return n.firstElementChild}return r}J.resolveShapeFactory=resolveShapeFactory;return J}var ee={},te=false;function dew$6(){if(te)return ee;te=true;Object.defineProperty(ee,"__esModule",{value:true});ee.Renderer=void 0;var e=dew();var t=dew$o();var r=dew$i();var i=dew$7();var n=dew$j();var o=function(){function Renderer(){this.elements=new Map;this.light=new t.Vector(0,0,1);this.enabled=true;this.enabled=!e.settings.respectReducedMotion||!window.matchMedia("(prefers-reduced-motion)").matches}Renderer.prototype.begin=function(){this.renderedParticles=[]};
/**
     * Terminates an existing render block. This checks which particles were rendered
     * during the block and purges all unused HTMLElements from the DOM.
     *
     * @returns The amount of particles that were rendered.
     */Renderer.prototype.end=function(){var e=this.elements.keys();var t=e.next();while(!t.done){var r=t.value;if(!this.renderedParticles.includes(r)){this.elements.get(r).remove();this.elements.delete(r)}t=e.next()}return this.renderedParticles.length};
/**
     * Renders an individual particle to the DOM. If the particle is rendered for the first
     * time, a HTMLElement will be created using the emitter's render settings.
     *
     * @param particle The particle to be rendered.
     * @param emitter The system containing the particle.
     */Renderer.prototype.renderParticle=function(e,t){if(this.enabled){var r=t.renderer;var i=this.elements.has(e.id)?this.elements.get(e.id):this.createParticleElement(e,r);r.applyColor&&r.applyColor(e.color,i);r.applyOpacity&&r.applyOpacity(e.opacity,i);if(r.applyLighting){var o=n.rotationToNormal(e.rotation);var a=o.dot(this.light);r.applyLighting(a,i)}r.applyTransform&&r.applyTransform(e,i);this.renderedParticles.push(e.id)}};Renderer.prototype.createParticleElement=function(e,t){var n=i.resolveShapeFactory(t.shapeFactory);var o=n.cloneNode(true);o.style.position="absolute";this.elements.set(e.id,r.particleContainer.current.appendChild(o));return o};return Renderer}();ee.Renderer=o;return ee}var re={},ie=false;function dew$5(){if(ie)return re;ie=true;Object.defineProperty(re,"__esModule",{value:true});re.Scene=void 0;var e=dew$h();var t=dew$8();var r=dew$6();var i=function(){function Scene(){this.emitters=[];this.debug=new e.Debug(this);this.renderer=new r.Renderer;this.scheduledTickId=void 0;this.lastTickTimestamp=performance.now();this.tick=this.tick.bind(this);this.scheduleTick()}Scene.prototype.createEmitter=function(e){var r=new t.Emitter(e);this.emitters.push(r);return r};
/**
     * Clears all emitters from the scene.
     *
     * @returns The number of cleared emitters.
     */Scene.prototype.clearEmitters=function(){return this.emitters.splice(0).length};
/**
     * Clears the particles from all emitters in the scene.
     * Note that this does not remove the actual emitter objects though.
     *
     * @returns The number of cleared particles.
     */Scene.prototype.clearParticles=function(){return this.emitters.reduce((function(e,t){return e+t.clearParticles()}),0)};Scene.prototype.scheduleTick=function(){this.scheduledTickId=window.requestAnimationFrame(this.tick)};Scene.prototype.cancelTick=function(){window.cancelAnimationFrame(this.scheduledTickId)};
/**
     * Processes a tick cycle, updating all emitters contained in the scene.
     * This is handled as a JS animation frame event, hence the passed timestamp.
     *
     * @remarks
     * The emitter ticking and particle rendering is run using try-catch blocks,
     * to ensure that we can recover from potential errors.
     *
     * @param timestamp The current timestamp of the animation frame.
     */Scene.prototype.tick=function(e){var t=(e-this.lastTickTimestamp)/1e3;try{for(var r=0;r<this.emitters.length;r++){var i=this.emitters[r];i.tick(t);i.isExpired&&i.canRemove&&this.emitters.splice(r--,1)}}catch(e){console.error("An error occurred while updating the scene's emitters:\n\""+e+'"')}try{this.renderer.begin();for(var n=0,o=this.emitters;n<o.length;n++){i=o[n];for(var a=0,u=i.particles;a<u.length;a++){var s=u[a];this.renderer.renderParticle(s,i)}}this.renderer.end()}catch(e){console.error("An error occurred while rendering the scene's particles:\n\""+e+'"')}this.debug.tick(t);this.lastTickTimestamp=e;this.scheduleTick()};return Scene}();re.Scene=i;return re}var ne={},oe=false;function dew$4(){if(oe)return ne;oe=true;Object.defineProperty(ne,"__esModule",{value:true});ne.ModuleBuilder=void 0;var e=dew$n();var t=function(){function ModuleBuilder(){this.factor="lifetime";this.isRelative=false}
/**
     * Specifies the key in the particle that should be driven.
     *
     * @remarks
     * Note that not all of a particle's properties are drivable through modules. If you
     * need full control of a particle inside of a module, you can use a module function directly.
     *
     * @returns The chained builder instance.
     */ModuleBuilder.prototype.drive=function(e){this.driverKey=e;return this};
/**
     * Specifies the factor to drive the evaluated value by. Supports "lifetime" and "size".
     *
     * @returns The chained builder instance.
     */ModuleBuilder.prototype.through=function(e){this.factor=e;return this};
/**
     * Specifies the value to drive the module behaviour by. This can be a constant,
     * a spline or an evaluable function. Note that in the last case, the driving
     * factor is passed as a parameter.
     *
     * @returns The chained builder instance.
     */ModuleBuilder.prototype.by=function(e){this.driverValue=e;return this};ModuleBuilder.prototype.relative=function(e){void 0===e&&(e=true);this.isRelative=e;return this};ModuleBuilder.prototype.build=function(){var e=this;if("undefined"===typeof this.driverKey)throw new Error("No driving key was provided in the module builder. Did you forget a '.drive()' call?");if("undefined"===typeof this.driverValue)throw new Error("No driving value was provided in the module builder. Did you forget a '.through()' call?");return function(t){updateDrivenProperty(t,e.driverKey,evaluateModuleDriver(e.driverValue,calculateModuleFactor(e.factor,t),t),e.isRelative)}};return ModuleBuilder}();ne.ModuleBuilder=t;function evaluateModuleDriver(e,t,r){return"object"===typeof e&&"evaluate"in e?e.evaluate(t):"function"===typeof e?e(t,r):e}function calculateModuleFactor(e,t){switch(e){case"lifetime":return t.initialLifetime-t.lifetime;case"relativeLifetime":return(t.initialLifetime-t.lifetime)/t.initialLifetime;case"size":return t.size;default:throw new Error("Invalid driving factor '"+e+"'.")}}function updateDrivenProperty(t,r,i,n){void 0===n&&(n=false);if(n){var o=t["initial"+r[0].toUpperCase()+r.substr(1)];if("undefined"===typeof o)throw new Error("Unable to use relative chaining with key '"+r+"'; no initial value exists.");if(i instanceof e.Vector)updateDrivenProperty(t,r,o.add(i));else{if("number"!==typeof i)throw new Error("Unable to use relative chaining with particle key '"+r+"'; no relative operation for '"+i+"' could be inferred.");updateDrivenProperty(t,r,o*i)}}else t[r]=i}return ne}var ae={},ue=false;function dew$3(){if(ue)return ae;ue=true;Object.defineProperty(ae,"__esModule",{value:true});ae.confetti=void 0;var e=dew();var t=dew$n();var r=dew$4();var i=dew$g();var n=dew$d();var o=dew$f();var a=dew$j();
/**
   * The standard confetti template.
   *
   * @param source The source to emit the confetti from.
   * @param options The (optional) configuration overrides.
   */function confetti(u,s){var l=a.overrideDefaults({count:o.range(20,40),spread:o.range(35,45),speed:o.range(300,600),size:o.skew(1,.2),rotation:function(){return i.randomUnitVector().scale(180)},color:function(){return t.Color.fromHsl(i.randomRange(0,360),100,70)},modules:[(new r.ModuleBuilder).drive("size").by((function(e){return Math.min(1,3*e)})).relative().build(),(new r.ModuleBuilder).drive("rotation").by((function(e){return new t.Vector(140,200,260).scale(e)})).relative().build()],shapes:["square","circle"]},s);var c=e.scene.current.createEmitter({emitterOptions:{loops:1,duration:8,modules:l.modules},emissionOptions:{rate:0,bursts:[{time:0,count:l.count}],sourceSampler:n.dynamicSource(u),angle:o.skew(-90,o.evaluateVariation(l.spread)),initialLifetime:8,initialSpeed:l.speed,initialSize:l.size,initialRotation:l.rotation,initialColor:l.color},rendererOptions:{shapeFactory:l.shapes}});return c}ae.confetti=confetti;return ae}var se={},le=false;function dew$2(){if(le)return se;le=true;Object.defineProperty(se,"__esModule",{value:true});se.sparkles=void 0;var e=dew();var t=dew$n();var r=dew$4();var i=dew$g();var n=dew$d();var o=dew$f();var a=dew$j();
/**
   * The standard sparkles template.
   *
   * @param source The source to emit the sparkles from.
   * @param options The (optional) configuration overrides.
   */function sparkles(u,s){var l=a.overrideDefaults({lifetime:o.range(1,2),count:o.range(10,20),speed:o.range(100,200),size:o.range(.8,1.8),rotation:function(){return new t.Vector(0,0,i.randomRange(0,360))},color:function(){return t.Color.fromHsl(50,100,i.randomRange(55,85))},modules:[(new r.ModuleBuilder).drive("rotation").by((function(e){return new t.Vector(0,0,200).scale(e)})).relative().build(),(new r.ModuleBuilder).drive("size").by(new t.NumericSpline({time:0,value:0},{time:.3,value:1},{time:.7,value:1},{time:1,value:0})).through("relativeLifetime").relative().build(),(new r.ModuleBuilder).drive("opacity").by(new t.NumericSpline({time:0,value:1},{time:.5,value:1},{time:1,value:0})).through("relativeLifetime").build()],shapes:"star"},s);var c=e.scene.current.createEmitter({emitterOptions:{loops:1,duration:3,useGravity:false,modules:l.modules},emissionOptions:{rate:0,bursts:[{time:0,count:l.count}],sourceSampler:n.dynamicSource(u),angle:o.range(0,360),initialLifetime:l.lifetime,initialSpeed:l.speed,initialSize:l.size,initialRotation:l.rotation,initialColor:l.color},rendererOptions:{applyLighting:void 0,shapeFactory:l.shapes}});return c}se.sparkles=sparkles;return se}var ce={},de=false;function dew$1(){if(de)return ce;de=true;var e=ce&&ce.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);Object.defineProperty(e,i,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r);e[i]=t[r]});var t=ce&&ce.__exportStar||function(t,r){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(r,i)||e(r,t,i)};Object.defineProperty(ce,"__esModule",{value:true});t(dew$3(),ce);t(dew$2(),ce);return ce}var fe={},pe=false;function dew(){if(pe)return fe;pe=true;var e=fe&&fe.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);Object.defineProperty(e,i,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r);e[i]=t[r]});var t=fe&&fe.__exportStar||function(t,r){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(r,i)||e(r,t,i)};Object.defineProperty(fe,"__esModule",{value:true});fe.default=fe.forceInit=fe.util=fe.math=fe.random=fe.sources=fe.variation=fe.Emitter=fe.Particle=fe.settings=fe.scene=void 0;var r=dew$5();var i=dew$j();t(dew$n(),fe);t(dew$1(),fe);t(dew$7(),fe);t(dew$4(),fe);fe.scene=new i.Lazy((function(){if("undefined"===typeof document||"undefined"===typeof window)throw new Error("It seems like you are trying to run party.js in a non-browser-like environment, which is not supported.");return new r.Scene}));var n=dew$x();Object.defineProperty(fe,"settings",{enumerable:true,get:function(){return n.settings}});var o=dew$9();Object.defineProperty(fe,"Particle",{enumerable:true,get:function(){return o.Particle}});var a=dew$8();Object.defineProperty(fe,"Emitter",{enumerable:true,get:function(){return a.Emitter}});fe.variation=dew$f();fe.sources=dew$d();fe.random=dew$g();fe.math=dew$u();fe.util=dew$j();function forceInit(){fe.scene.current}fe.forceInit=forceInit;fe.default=dew();return fe}const ve=dew();var he=ve.__esModule,me=ve.forceInit,ye=ve.util,we=ve.math,ge=ve.random,be=ve.sources,_e=ve.variation,$e=ve.Emitter,Oe=ve.Particle,Se=ve.settings,Me=ve.scene,Pe=ve.Circle,xe=ve.Color,je=ve.Gradient,Ce=ve.NumericSpline,Re=ve.Rect,Ve=ve.Vector,ke=ve.confetti,ze=ve.sparkles,Ee=ve.resolveShapeFactory,De=ve.resolvableShapes,Te=ve.ModuleBuilder;export{Pe as Circle,xe as Color,$e as Emitter,je as Gradient,Te as ModuleBuilder,Ce as NumericSpline,Oe as Particle,Re as Rect,Ve as Vector,he as __esModule,ke as confetti,ve as default,me as forceInit,we as math,ge as random,De as resolvableShapes,Ee as resolveShapeFactory,Me as scene,Se as settings,be as sources,ze as sparkles,ye as util,_e as variation};

