# Demonstrate how to load your own local copy of a node package into Quepid.
# Commonly used when you are developing against an unreleased package.
#
# IMPORTANT: After making changes to your local splainer-search files, you MUST rebuild
# the Angular vendor bundle for changes to take effect:
#
#   bin/docker r yarn build:angular-vendor
#
# Why? The esbuild watch process monitors changes to app/javascript/angular_app.js,
# but does NOT automatically watch files inside node_modules/. Your mounted splainer-search
# files ARE being used, but esbuild won't detect when they change.
#
# The mounted files below will be bundled into app/assets/builds/angular_app.js during
# the build process, so any changes you make locally will be included after rebuilding.

services:
  app:
    volumes:
      - /Users/epugh/Documents/projects/splainer-search/package.json:/srv/app/node_modules/splainer-search/package.json
      - /Users/epugh/Documents/projects/splainer-search/splainer-search.js:/srv/app/node_modules/splainer-search/splainer-search.js
      - /Users/epugh/Documents/projects/quepid-jupyterlite/notebooks:/srv/app/public/notebooks
