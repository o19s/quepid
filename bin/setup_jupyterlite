#!/usr/bin/env bash
set -e

# Update our Jupyterlite setup using the latest release.
JUPYTER_BUILD_DOWNLOAD_URL="https://github.com/o19s/quepid-jupyterlite/releases/latest/download/jupyter-lite-build.tgz"

# path to your application root.
APP_ROOT=$(dirname $(dirname $(realpath "$0")))

cd $APP_ROOT

echo -e "\n== Downloading and extracting Jupyter Lite Build =="
rm -rf ./public/notebooks && wget -qO- "${JUPYTER_BUILD_DOWNLOAD_URL}" | tar -C ./public -zxf -

echo -e "\n== Setting up Sample Data for Notebook Development =="
bundle exec thor sample_data:haystack_party
